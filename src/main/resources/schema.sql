DROP TABLE "user", lot, auction CASCADE;

CREATE TABLE IF NOT EXISTS "user"
(
    id   BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR(50)
);

CREATE TABLE IF NOT EXISTS lot
(
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR(255),
    start_price FLOAT,
    step FLOAT
);

CREATE TABLE IF NOT EXISTS auction
(
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    lot_id BIGINT REFERENCES lot(id),
    username VARCHAR(50),
    price FLOAT,
    time TIMESTAMP WITHOUT TIME ZONE
);